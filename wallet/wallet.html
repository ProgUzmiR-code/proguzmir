<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            background: #06121a;
            color: white;
            font-family: sans-serif;
            padding: 0;
            box-sizing: border-box;
        }

        .wallet {
            margin-top: 48px;
        }

        .wallet h1 {
            font-size: 24px;
            text-align: center;
            color: #ffd700;
        }

        header .flex {
            display: flex;
            align-items: center;
            gap: 2px;
            font-size: 25px;
        }

        .coins-center {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        ul {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            gap: 10px;
            padding: 0;
        }

        ul li {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            align-items: center;
            padding: 5px 2px 5px 2px;
            list-style: none;
        }

        .invite-listm2,
        .invite-listm,
        .invitem {
            overflow-x: hidden;
        }

        .checked {
            color: #ffd700;
            border-bottom: 2px solid #ffffff;
        }

        .invite-listm6 {
            align-items: center;
            justify-content: center;
            height: 400px;
        }

        .invite-listm2 .ds {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .ds2 {
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .tab_mainm1 {
            display: flex;
        }

        .invite-listm2 .ds button {
            background-color: #ffd700;
            border: none;
            border-radius: 10px;
            height: 30px;
            width: 120px;
        }

        .Withdraw,
        .Recharge {
            text-align: center;
            background-color: #ffffff;
            color: black;
            border: none;
            border-radius: 0px 5px 5px 0px;
            height: 25px;
            width: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            overflow-x: hidden;
        }

        .Recharge {
            border-radius: 5px 0px 0px 5px;
        }

        .Active {
            background-color: #ffd700;
            color: black;
        }

        .q-mt-sm {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 300px;
        }

        .bton:active {
            color: white;

        }

        .invite-item {
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 7px;
            background: hsla(0, 0%, 0%, 0.5);
            display: -ms-flexbox;
            display: flex;
            -ms-flex-align: center;
            align-items: center;
        }

        .invite-icon {
            width: 50px;
            height: 50px;
            border-radius: 9px;
            background: hsla(0, 0%, 100%, .15);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .invite-info {
            flex: 1;
            margin-left: 10px;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
        }

        .invite-item .invite-arrow {
            display: flex;
            align-items: center;
        }

        .scoped-svg-icon {
            display: flex;
            align-items: center;
        }

        .invite-icon img {
            margin: auto;
            width: 100%;
            height: 100%;
        }

        /* Uzish tugmasi dizayni */
        .disconnect-btn {
            background: rgba(255, 77, 77, 0.2);
            /* Qizg'ish shaffof fon */
            color: #ff4d4d;
            /* Qizil yozuv */
            border: 1px solid #ff4d4d;
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            outline: none;
        }

        /* Bosilgandagi animatsiya (kichrayish) */
        .disconnect-btn:active {
            transform: scale(0.90);
            background: #ff4d4d;
            color: white;
        }

        /* Hover effekti (kompyuterda sichqoncha borganda) */
        .disconnect-btn:hover {
            background: rgba(255, 77, 77, 0.3);
        }
    </style>

    <style>
        /* Asosiy konteyner */
        #shopCol {
            display: block;
            padding: 10px;
        }

        /* Banner qismi */
        .promo-banner {
            background: linear-gradient(180deg, #4a90e2 0%, #1a56a0 100%);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            color: white;
            position: relative;
            overflow: hidden;
            height: 80px;
        }

        .promo-banner h2 {
            margin: 0;
            font-size: 22px;
            font-style: italic;
            position: relative;
            z-index: 50;
        }

        .promo-banner p {
            margin: 8px 0 0;
            font-size: 13px;
            opacity: 0.9;
            line-height: 1.4;
            position: relative;
            z-index: 50;
        }

        .promo-banner img {
            position: absolute;
            right: 0px;
            top: -10px;
            width: 100%;
            opacity: 0.8;
            z-index: 1;
        }

        /* Grid (Setka) qismi */
        .shop-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* Kartochka (Card) */
        .shop-card {
            background: #f3c178;
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid #e2a04a;
            position: relative;
        }

        /* "First" bonus belgisi */
        .bonus-badge {
            position: absolute;
            top: 5px;
            left: 5px;
            background: #ff4d4d;
            color: white;
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 20px;
            border: 1px solid white;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 3px;
            z-index: 50;
        }

        .bonus-badge span {
            font-size: 8px;
        }

        /* Kartochka rasmi */
        .card-img {
            width: 100%;
            margin-top: 0px;
            margin-bottom: -60px;
            filter: drop-shadow(0 4px 4px rgba(0, 0, 0, 0.2));
            z-index: 1;
        }

        /* Kartochka nomi/qiymati */
        .card-title {
            font-weight: 900;
            color: #3a7994;
            font-size: 18px;
            margin-bottom: 5px;
            z-index: 50;
        }

        /* Sotib olish tugmasi */
        .buy-btn {
            background: #e69a30;
            width: 100%;
            text-align: center;
            padding: 8px 0;
            color: white;
            font-weight: bold;
            border-top: 2px solid #d48a20;
            cursor: pointer;
            z-index: 50;
            transition: background 0.2s;
        }

        .buy-btn:active {
            background: #d48a20;
        }
    </style>

    <style>
        /* Umumiy quti stili */
        .warning-container {
            background-color: #fff3cd;
            /* Sariq ogohlantirish foni */
            border: 1px solid #ffeeba;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            font-family: sans-serif;
            color: #856404;
        }

        /* Bosh qismi (sarlavha va o'q) */
        .warning-header {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            user-select: none;
            /* Matn belgilanishini oldini olish */
        }

        /* O'q belgisi */
        .arrow {
            margin-right: 8px;
            transition: transform 0.3s ease;
            /* Aylanish animatsiyasi */
            display: inline-block;
        }

        /* O'q pastga qaraganda (yopiq holat) */
        .arrow.down {
            transform: rotate(0deg);
        }

        /* O'q tepaga qaraganda (ochiq holat) */
        .arrow.up {
            transform: rotate(180deg);
        }

        /* Ichidagi matn qismi */
        .warning-content {
            display: none;
            /* Boshlanishida yashirin */
            margin-top: 10px;
            padding-left: 20px;
            color: #333;
            font-size: 0.9em;
            border-left: 2px solid #856404;
        }

        /* Ochiq bo'lganda ko'rsatish klassi */
        .warning-content.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* DONATE SECTION STYLES */
        .donate-section {
            margin-top: 25px;
            padding-bottom: 100px;
        }

        .donate-header {
            text-align: center;
            color: #5d7a96;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 15px;
            font-weight: 700;
            position: relative;
        }

        .donate-header::before,
        .donate-header::after {
            content: "";
            display: inline-block;
            width: 30px;
            height: 1px;
            background: #5d7a96;
            vertical-align: middle;
            margin: 0 10px;
            opacity: 0.5;
        }

        .donate-grid {
            display: flex;
            gap: 12px;
            justify-content: space-between;
        }

        .donate-card {
            flex: 1;
            background: linear-gradient(145deg, #0b1a26, #08141e);
            border-radius: 16px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s;
        }

        .donate-card:active {
            transform: scale(0.98);
        }

        /* TON mavzusi */
        .ton-theme {
            border-top: 2px solid #0098EA;
            box-shadow: 0 0 10px rgba(0, 152, 234, 0.1);
        }

        /* Stars mavzusi */
        .stars-theme {
            border-top: 2px solid #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.1);
        }

        .d-icon-bg {
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }

        .d-icon-bg img {
            width: 28px;
            height: 28px;
        }

        .d-title {
            font-size: 14px;
            font-weight: bold;
            color: #e0e6ed;
            margin-bottom: 10px;
        }

        /* Input dizayni */
        .d-input-group {
            position: relative;
            width: 100%;
            margin-bottom: 12px;
        }

        .d-input-group input {
            width: 100%;
            background: #06121a;
            /* Sayt foni bilan bir xil */
            border: 1px solid #2c3e50;
            border-radius: 8px;
            padding: 8px 30px 8px 10px;
            /* O'ngdan joy qoldiramiz */
            color: white;
            font-size: 14px;
            text-align: center;
            outline: none;
            box-sizing: border-box;
            /* Input sig'ishi uchun */
        }

        .d-input-group input:focus {
            border-color: #ffd700;
        }

        .d-input-group span {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #5d7a96;
            font-size: 12px;
            font-weight: bold;
        }

        /* Tugmalar */
        .d-btn {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            color: white;
            margin-top: auto;
            text-transform: uppercase;
        }

        .btn-ton {
            background: linear-gradient(90deg, #0098EA, #0077b6);
            box-shadow: 0 4px 10px rgba(0, 152, 234, 0.3);
        }

        .btn-stars {
            background: linear-gradient(90deg, #FFD700, #FFA500);
            color: #3e2723;
            /* Tilla rang ustida qora yozuv o'qilishi oson */
            box-shadow: 0 4px 10px rgba(255, 215, 0, 0.3);
        }

        /* Inputdagi strelkalarni yo'qotish */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>

    <title>Document</title>
</head>

<body>
    <header>
        <div class="wallet">
            <h1>Wallet Page</h1>
        </div>
        <div class="coins-center">
            <div class="flex">
                üíé<span id="diamondCount">0</span>
            </div>
        </div>
    </header>
    <div class="invitem">
        <div class="tab_mainm">
            <ul>
                <li class="tab_itemm " data-target="completed2">Withdraw</li>
                <li class="tab_itemm " data-target="completed">Records</li>
                <li class="tab_itemm " data-target="inactive">Recharge</li>
                <li class="tab_itemm checked" data-target="active">connect</li>
            </ul>
        </div>

        <div class="invite-listm" style="display: block;">
            <div id="btnTon" class="invite-item bton">
                <div class="invite-icon">
                    <img src="https://cryptologos.cc/logos/toncoin-ton-logo.svg?v=040" alt="">
                </div>
                <div class="invite-info">
                    <span>Your TON address connected</span>
                </div>
                <div class="invite-arrow">
                    <span data-v-df5a9ee0="" aria-hidden="true" class="scoped-svg-icon ">
                        <img src="/image/arrow.svg" alt="">
                    </span>
                </div>
            </div>
            <div id="btnMetaMask" class="invite-item bton">
                <div class="invite-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" alt="">
                </div>
                <div class="invite-info">
                    <span>Your MetaMask address connected</span>
                </div>
                <div class="invite-arrow">
                    <span data-v-df5a9ee0="" aria-hidden="true" class="scoped-svg-icon ">
                        <img src="/image/arrow.svg" alt="">
                    </span>
                </div>
            </div>
            <div>
                <div class="warning-container">
                    <div class="warning-header" onclick="toggleWarning()">
                        <span id="arrowIcon" class="arrow down">‚ñº</span>
                        <span>Attention ProgUzmiR warns</span>
                    </div>

                    <div id="warningText" class="warning-content">
                        EVM wallets are limited in their connectivity. If the connection does not work, connect a Ton
                        wallet.
                    </div>
                </div>
            </div>
            <div class="donate-section">
                <h3 class="donate-header">Support Project</h3>

                <div class="donate-grid">
                    <div class="donate-card ton-theme">
                        <div class="d-icon-bg">
                            <img src="https://cryptologos.cc/logos/toncoin-ton-logo.svg?v=040" alt="TON">
                        </div>
                        <div class="d-title">Donate TON</div>
                        <div class="d-input-group">
                            <input type="number" id="donateTonAmount" placeholder="0.1" step="0.1">
                            <span>TON</span>
                        </div>
                        <button class="d-btn btn-ton" onclick="donateTonFunc()">Send TON</button>
                    </div>

                    <div class="donate-card stars-theme">
                        <div class="d-icon-bg">
                            <img src="https://raw.githubusercontent.com/TelegramBots/book/master/src/docs/stars.png"
                                alt="Stars" style="filter: drop-shadow(0 0 5px gold);">
                        </div>
                        <div class="d-title">Donate Stars</div>
                        <div class="d-input-group">
                            <input type="number" id="donateStarsAmount" placeholder="50" step="1">
                            <span>‚òÖ</span>
                        </div>
                        <button class="d-btn btn-stars" onclick="donateStarsFunc()">Send Stars</button>
                    </div>
                </div>
            </div>

        </div>


        <div class="invite-listm2" style="display: none;">
            <div id="shopCol">

                <div class="promo-banner">
                    <h2>2X Diamond Bonus</h2>
                    <p>
                        Any first purchase of any <br> tier earns 2x Rebate rewards.
                    </p>
                    <img src="./image/gems_pile.jpg" alt="diamond">
                </div>

                <div class="shop-grid">

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +500
                        </div>
                        <img src="./image/bagdiamonds.jpg" class="card-img">
                        <div class="card-title">500</div>
                        <div class="buy-btn" onclick="buyItem('gem1')">1,19 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +2,500
                        </div>
                        <img src="./image/gem1.jpg" class="card-img">
                        <div class="card-title">2,500</div>
                        <div class="buy-btn" onclick="buyItem('gem2')">5,99 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +5,000
                        </div>
                        <img src="./image/gem2.jpg" class="card-img">
                        <div class="card-title">5,000</div>
                        <div class="buy-btn" onclick="buyItem('gem3')">11,99 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +10,000
                        </div>
                        <img src="./image/gem3.jpg" class="card-img">
                        <div class="card-title">10,000</div>
                        <div class="buy-btn" onclick="buyItem('gem4')">23,99 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +25,000
                        </div>
                        <img src="./image/gem4.jpg" class="card-img">
                        <div class="card-title">25,000</div>
                        <div class="buy-btn" onclick="buyItem('gem5')">54,99 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +50,000
                        </div>
                        <img src="./image/gem5.jpg" class="card-img">
                        <div class="card-title">50,000</div>
                        <div class="buy-btn" onclick="buyItem('gem6')">109,99 US$</div>
                    </div>

                </div>
            </div>

        </div>

        <div class="der">
            <div class="invite-listm3" style="display: none;">

                <div>
                    <div class="ds2">
                        <span>Recharge Record</span>
                        <div class="tab_mainm1 w1">
                            <div class="Recharge tab_itemm1 w2 Active" data-target="recharge" style="font-size: 14px;">
                                Recharge</div>
                            <div class="Withdraw tab_itemm1 w2" data-target="withdraw" style="font-size: 14px;">Withdraw
                            </div>
                        </div>

                    </div>
                    <div class="invite-listm4">
                        <span class="q-mt-sm">No transaction records</span>
                    </div>
                    <div class="invite-listm5" style="display: none;">
                        <span class="q-mt-sm">No transaction records</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="invite-listm6" style="display: none;">
            <span>Withdraw soon</span>
        </div>
    </div>

    </div>
    <script src="/wallet/donate.js"></script>

    <script>
        function toggleWarning() {
            var content = document.getElementById("warningText");
            var arrow = document.getElementById("arrowIcon");

            if (content.classList.contains("show")) {
                // Yopish
                content.classList.remove("show");
                arrow.classList.remove("up");
                arrow.classList.add("down");
            } else {
                // Ochish
                content.classList.add("show");
                arrow.classList.remove("down");
                arrow.classList.add("up");
            }
        }
    </script>
    <script>
        // Update diamond display
        function updateDiamondDisplay() {
            const diamondCount = document.getElementById('diamondCount');
            if (diamondCount) {
                try {
                    // Load state from localStorage (same as index.js)
                    const KEY_DIAMOND = "proguzmir_diamond";
                    const KEY_WALLET = "proguzmir_wallet";

                    function makeUserKey(baseKey, wallet) {
                        return wallet ? baseKey + "_" + wallet.toLowerCase() : baseKey + "_guest";
                    }

                    const wallet = localStorage.getItem(KEY_WALLET) || "";
                    const keyDiamond = makeUserKey(KEY_DIAMOND, wallet);
                    const diamond = parseInt(localStorage.getItem(keyDiamond) || "0", 10);

                    diamondCount.textContent = diamond;
                } catch (e) {
                    console.log("Diamond load error:", e);
                }
            }
        }

        // Update on page load
        updateDiamondDisplay();

        // Update every second to catch changes
        setInterval(updateDiamondDisplay, 1000);
    </script>
    <script>
        document.addEventListener('click', function (e) {

            const tab = e.target.closest('.tab_itemm, .tab_itemm1, .w2');
            if (!tab) return;

            const status = tab.dataset.target?.toLowerCase();
            if (!status) return;

            /* ===== TAB MAIN M (1-sistema) ===== */
            if (tab.closest('.tab_mainm')) {

                document
                    .querySelectorAll('.tab_mainm .tab_itemm, .tab_mainm .tab_itemm1')
                    .forEach(t => t.classList.remove('checked'));

                tab.classList.add('checked');

                document.querySelectorAll('.invitem').forEach(inviteBlock => {

                    const lists = {
                        inactive: inviteBlock.querySelector('.invite-listm2'),
                        active: inviteBlock.querySelector('.invite-listm'),
                        completed: inviteBlock.querySelector('.invite-listm3'),
                        completed2: inviteBlock.querySelector('.invite-listm6'),
                    };

                    Object.values(lists).forEach(l => l && (l.style.display = 'none'));

                    if (lists[status]) {
                        lists[status].style.display =
                            status === 'completed2' ? 'flex' : 'block';
                    }
                });

                return; // ‚ùó BU YERDA TO‚ÄòXTAYDI
            }

            /* ===== W1 / DER (2-sistema) ===== */
            if (tab.closest('.der')) {

                document
                    .querySelectorAll('.der .w2')
                    .forEach(t => t.classList.remove('Active'));

                tab.classList.add('Active');

                document.querySelectorAll('.der').forEach(derBlock => {

                    const lists = {
                        recharge: derBlock.querySelector('.invite-listm4'),
                        withdraw: derBlock.querySelector('.invite-listm5'),
                    };

                    Object.values(lists).forEach(l => l && (l.style.display = 'none'));

                    if (lists[status]) {
                        lists[status].style.display = 'block';
                    }
                });

                return; // ‚ùó BOSHQA BLOKLARGA O‚ÄòTMAYDI
            }
        });
    </script>
    <script>
        // show Telegram BackButton and set it to return to main renderGame
        showTelegramBack(() => { showheader(); renderGame(); });
        // hide bottom nav and enable Telegram Back to return to game
        hideheader();
        showTelegramBack(() => { hideTelegramBack(); showheader(); renderGame(); });
        // back handler
        document.getElementById('keyBack').addEventListener('click', () => { hideTelegramBack(); showNav(); renderGame(); });
        // helpers to hide/show bottom header
        function hideheader() { const nav = document.querySelector('.header'); if (nav) nav.style.display = 'none'; }
        function showheader() { const nav = document.querySelector('.header'); if (nav) nav.style.display = ''; }
    </script>
</body>

</html>