<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>WALLET</title>
</head>

<body>
    <header>
        <div class="wallet">
            <h1>Wallet Page</h1>
        </div>
        <div class="coins-center">
            <div class="flex">
                üíé<span data-diamond-display>0</span>
            </div>
        </div>
    </header>
    <div class="invitem">
        <div class="tab_mainm">
            <ul>
                <li class="tab_itemm " data-target="completed2">Withdraw</li>
                <li class="tab_itemm " data-target="completed">Records</li>
                <li class="tab_itemm " data-target="inactive">Recharge</li>
                <li class="tab_itemm checked" data-target="active">connect</li>
            </ul>
        </div>

        <div class="invite-listm" style="display: block;">
            <div id="btnTon" class="invite-item bton">
                <div class="invite-icon">
                    <img src="https://cryptologos.cc/logos/toncoin-ton-logo.svg?v=040" alt="">
                </div>
                <div class="invite-info">
                    <span>Your TON address connected</span>
                </div>
                <div class="invite-arrow">
                    <span data-v-df5a9ee0="" aria-hidden="true" class="scoped-svg-icon ">
                        <img src="/image/arrow.svg" alt="">
                    </span>
                </div>
            </div>
            <div id="btnMetaMask" class="invite-item bton">
                <div class="invite-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" alt="">
                </div>
                <div class="invite-info">
                    <span>Your MetaMask address connected</span>
                </div>
                <div class="invite-arrow">
                    <span data-v-df5a9ee0="" aria-hidden="true" class="scoped-svg-icon ">
                        <img src="/image/arrow.svg" alt="">
                    </span>
                </div>
            </div>
            <div>
                <div class="warning-container">
                    <div class="warning-header" onclick="toggleWarning()">
                        <span id="arrowIcon" class="arrow down">‚ñº</span>
                        <span>Attention ProgUzmiR warns</span>
                    </div>

                    <div id="warningText" class="warning-content">
                        EVM wallets are limited in their connectivity. If the connection does not work, connect a Ton
                        wallet.
                    </div>
                </div>
            </div>
            <div class="donate-section">
                <h3 class="donate-header">Support Project</h3>

                <div class="donate-grid">
                    <div class="donate-card ton-theme">
                        <div class="d-icon-bg">
                            <img src="https://cryptologos.cc/logos/toncoin-ton-logo.svg?v=040" alt="TON">
                        </div>
                        <div class="d-title">Donate TON</div>
                        <div class="d-input-group">
                            <input type="number" id="donateTonAmount" placeholder="0.1" step="0.1">
                            <span>TON</span>
                        </div>
                        <button class="d-btn btn-ton" onclick="donateTonFunc()">Send TON</button>
                    </div>

                    <div class="donate-card stars-theme">
                        <div class="d-icon-bg">
                            <img src="/image/ton-stars.png" alt="Stars" style="filter: drop-shadow(0 0 5px gold);">
                        </div>
                        <div class="d-title">Donate Stars</div>
                        <div class="d-input-group">
                            <input type="number" id="donateStarsAmount" placeholder="50" step="1">
                            <span>‚òÖ</span>
                        </div>
                        <button class="d-btn btn-stars" onclick="donateStarsFunc()">Send Stars</button>
                    </div>
                </div>
            </div>

        </div>


        <div class="invite-listm2" style="display: none;">
            <div id="shopCol">

                <div class="promo-banner">
                    <h2>2X Diamond Bonus</h2>
                    <p>
                        Any first purchase of any <br> tier earns 2x Rebate rewards.
                    </p>
                    <img src="./image/gems_pile.jpg" alt="diamond">
                </div>

                <div class="shop-grid">

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +1000
                        </div>
                        <img src="./image/bagdiamonds.jpg" class="card-img">
                        <div class="card-title">1,000</div>
                        <div class="buy-btn" onclick="buyItem('gem1')">1,19 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +5,000
                        </div>
                        <img src="./image/gem1.jpg" class="card-img">
                        <div class="card-title">5,000</div>
                        <div class="buy-btn" onclick="buyItem('gem2')">4,99 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +10,000
                        </div>
                        <img src="./image/gem2.jpg" class="card-img">
                        <div class="card-title">10,000</div>
                        <div class="buy-btn" onclick="buyItem('gem3')">9,98 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +20,000
                        </div>
                        <img src="./image/gem3.jpg" class="card-img">
                        <div class="card-title">20,000</div>
                        <div class="buy-btn" onclick="buyItem('gem4')">19,96 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +50,000
                        </div>
                        <img src="./image/gem4.jpg" class="card-img">
                        <div class="card-title">50,000</div>
                        <div class="buy-btn" onclick="buyItem('gem5')">49,99 US$</div>
                    </div>

                    <div class="shop-card">
                        <div class="bonus-badge">
                            <span>First</span> üíé +100,000
                        </div>
                        <img src="./image/gem5.jpg" class="card-img">
                        <div class="card-title">100,000</div>
                        <div class="buy-btn" onclick="buyItem('gem6')">99,98 US$</div>
                    </div>

                </div>
            </div>

        </div>

        <div class="der">
            <div class="invite-listm3" style="display: none;">

                <div>
                    <div class="ds2">
                        <span>Recharge Record</span>
                        <div class="tab_mainm1 w1">
                            <div class="Recharge tab_itemm1 w2 Active" data-target="recharge" style="font-size: 14px;">
                                Recharge</div>
                            <div class="Withdraw tab_itemm1 w2" data-target="withdraw" style="font-size: 14px;">Withdraw
                            </div>
                        </div>

                    </div>
                    <div class="invite-listm4" id="transactionList">
                        <span id="noTransMsg" class="q-mt-sm">No transaction records</span>

                        <div id="historyContainer"></div>
                    </div>

                    <div class="invite-listm5" style="display: none;">
                        <span class="q-mt-sm">No transaction records</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="invite-listm6" style="display: none;">
            <span>Withdraw soon</span>
        </div>
    </div>

    </div>



    <script src="/wallet/donate.js"></script>
    <script src="/wallet/stars.js"></script>

    <script>
        function toggleWarning() {
            var content = document.getElementById("warningText");
            var arrow = document.getElementById("arrowIcon");

            if (content.classList.contains("show")) {
                // Yopish
                content.classList.remove("show");
                arrow.classList.remove("up");
                arrow.classList.add("down");
            } else {
                // Ochish
                content.classList.add("show");
                arrow.classList.remove("down");
                arrow.classList.add("up");
            }
        }
    </script>
    

    <script>
        document.addEventListener('click', function (e) {

            const tab = e.target.closest('.tab_itemm, .tab_itemm1, .w2');
            if (!tab) return;

            const status = tab.dataset.target?.toLowerCase();
            if (!status) return;

            /* ===== TAB MAIN M (1-sistema) ===== */
            if (tab.closest('.tab_mainm')) {

                document
                    .querySelectorAll('.tab_mainm .tab_itemm, .tab_mainm .tab_itemm1')
                    .forEach(t => t.classList.remove('checked'));

                tab.classList.add('checked');

                document.querySelectorAll('.invitem').forEach(inviteBlock => {

                    const lists = {
                        inactive: inviteBlock.querySelector('.invite-listm2'),
                        active: inviteBlock.querySelector('.invite-listm'),
                        completed: inviteBlock.querySelector('.invite-listm3'),
                        completed2: inviteBlock.querySelector('.invite-listm6'),
                    };

                    Object.values(lists).forEach(l => l && (l.style.display = 'none'));

                    if (lists[status]) {
                        lists[status].style.display =
                            status === 'completed2' ? 'flex' : 'block';
                    }
                });

                return; // ‚ùó BU YERDA TO‚ÄòXTAYDI
            }

            /* ===== W1 / DER (2-sistema) ===== */
            if (tab.closest('.der')) {

                document
                    .querySelectorAll('.der .w2')
                    .forEach(t => t.classList.remove('Active'));

                tab.classList.add('Active');

                document.querySelectorAll('.der').forEach(derBlock => {

                    const lists = {
                        recharge: derBlock.querySelector('.invite-listm4'),
                        withdraw: derBlock.querySelector('.invite-listm5'),
                    };

                    Object.values(lists).forEach(l => l && (l.style.display = 'none'));

                    if (lists[status]) {
                        lists[status].style.display = 'block';
                    }
                });

                return; // ‚ùó BOSHQA BLOKLARGA O‚ÄòTMAYDI
            }
        });
    </script>
</body>

</html>